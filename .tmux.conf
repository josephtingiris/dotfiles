##
### bind-key
##

# remap primary prefix key to 'C-a'
set-option -g prefix C-a

# remap C-a C-a to send a real C-a (e.g. screen in tmux)
bind-key C-a send-prefix

# map prefix2 to 'C-l' ('C-b' conflicts with vim)
set-option -g prefix2 C-l

## meta (<alt>)

# split panes using <alt>\ (vertical) and <alt>- (horizontal)
bind-key -n M-\ split-window -h
bind-key -n M-- split-window -v

# switch panes using <alt>vi-keys
bind-key -n M-h select-pane -L
bind-key -n M-l select-pane -R
bind-key -n M-k select-pane -U
bind-key -n M-j select-pane -D

# switch panes using <alt>arrow (too)
bind-key -n M-Left select-pane -L
bind-key -n M-Right select-pane -R
bind-key -n M-Up select-pane -U
bind-key -n M-Down select-pane -D

## shift

# switch windows using <shift>arrow
bind-key -n S-Left last-window
bind-key -n S-Right next-window
bind-key -n S-Up next-window
bind-key -n S-Down last-window

# Toggle mouse on
bind-key M \
    set-window-option -g mode-mouse on \;\
    set-option -g mouse-resize-pane on \;\
    set-option -g mouse-select-pane on \;\
    set-option -g mouse-select-window on \;\
    display-message 'Mouse: ON'

# Toggle mouse off
bind-key m \
    set-window-option -g mode-mouse off \;\
    set-option -g mouse-resize-pane off \;\
    set-option -g mouse-select-pane off \;\
    set-option -g mouse-select-window off \;\
    display-message 'Mouse: OFF'

# Toggle sync on
bind-key Y \
    set-option -w synchronize-panes on \;\
    display-message 'Synchronize: ON'

# Toggle sync off
bind-key y \
    set-option -w synchronize-panes off \;\
    display-message 'Synchronize: OFF'

## control

# easier and faster switching between next/prev window
bind-key C-p previous-window
bind-key C-n next-window

# reload home directory config file
bind-key C-r source-file ~/.tmux.conf \; \
    display-message "Sourced: ~/tmux.conf"

# copy tmux's selection buffer into the X clipboard selection
bind-key C-c run-shell "tmux show-buffer | xsel -b -i" \; \
    display-message "Clipboard buffer copied to xsel ..."

# copy X clipboard selection into tmux's selection buffer
bind-key C-x run-shell "xsel -b -o | tmux load-buffer -" \; \
    display-message "Clipboard buffer copied from xsel ..."

# simple test message
#bind-key C-t display-message "Test"

##
### set-option
##

## global server options (can't unset these)

# workaround neovim 'esc' bug # https://github.com/neovim/neovim/wiki/FAQ#esc-in-tmux-or-gnu-screen-is-delayed
set-option -sg escape-time 10

# do NOT automatically destroy or exit if there are no attached clients
set-option -sg destroy-unattached off
set-option -sg exit-unattached off

# turn on the clipboard
set-option -sg set-clipboard on

# disable the display of various information messages
set-option -sg quiet on

## global session and/or window options (can't unset these)

# set tmux default TERM=screen-256color
set-option -g default-terminal "screen-256color"

# tmux messages are displayed for 3 seconds
set-option -g display-time 3000

# increase scrollback buffer size
set-option -g history-limit 50000

# turn off bells (quiet sets these)
#set-option -g bell-action none
#set-option -g bell-on-alert off
#set-option -g visual-bell off

# use vi mode keys
set-option -g mode-keys vi

# utf8 is on
set-option -g utf8 on
set-option -g status-utf8 on

# update specific environment variables
#set-option -g update-environment WHO

##
### colour options
##

set-option -g display-panes-active-colour brightred
set-option -g display-panes-colour white

##
### plugins
##

# https://github.com/tmux-plugins

##
### theme
###

set-option -g status-interval 1

# Basic status bar colors
set-option -g status-bg black
set-option -g status-fg colour8

# Left side of status bar
set-option -g status-left-bg colour19
set-option -g status-left-fg white
set-option -g status-left-length 50
# » 
set-option -g status-left " #[fg=colour10]session #{session_name}#[fg=white] » #[fg=colour11]window #{window_index}#[fg=white] » #[fg=colour9]pane #{pane_index}/#{window_panes} [#{pane_tty}]#[fg=white] "

# Right side of status bar
set-option -g status-right-bg colour19
set-option -g status-right-fg white
set-option -g status-right-length 50
# « 
set-option -g status-right " #[fg=colour9]#{pane_current_command}#[fg=white] « #[fg=colour11][#{cursor_x},#{cursor_y}]#[fg=white] « #[fg=colour10]%Y-%m-%d · %H:%M:%S#[fg=white] "

# Window status
# inactive windows
set-option -g window-status-format " #{window_index}·#{window_flags}·#{window_name} "
# active window
set-option -g window-status-current-format " #{window_index}·#{window_flags}·#{window_name} "

# Current/active window status
set-option -g window-status-current-bg blue
set-option -g window-status-current-fg white

# Window with activity status
set-option -g window-status-activity-bg red # fg and bg are flipped here due to a
set-option -g window-status-activity-fg white  # bug in tmux

# Window separator
set-option -g window-status-separator ""

# Window status alignment
set-option -g status-justify centre

# Pane border
set-option -g pane-border-bg default
set-option -g pane-border-fg default

# Active pane border
set-option -g pane-active-border-bg default
set-option -g pane-active-border-fg brightred

# Pane number indicator
set-option -g display-panes-colour default
set-option -g display-panes-active-colour default

# Clock mode
set-option -g clock-mode-colour red
set-option -g clock-mode-style 24

# Message
set-option -g message-bg blue
set-option -g message-fg white

# Command message
set-option -g message-command-bg default
set-option -g message-command-fg default

# Mode
set-option -g mode-bg red
set-option -g mode-fg default

# Position of status bar
set-option -g status-position top

